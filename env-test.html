<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oji ç¯å¢ƒå˜é‡æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .env-item {
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            border-radius: 4px;
        }
        .env-name {
            font-weight: bold;
            color: #495057;
        }
        .env-value {
            font-family: monospace;
            color: #28a745;
            margin-top: 5px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
        }
        .success {
            color: #28a745;
        }
        .warning {
            color: #ffc107;
        }
        .error {
            color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Oji ç¯å¢ƒå˜é‡æµ‹è¯•</h1>
        <p>æ­¤é¡µé¢æ˜¾ç¤º Oji åº”ç”¨ä¸­å¯ç”¨çš„ç¯å¢ƒå˜é‡é…ç½®ã€‚</p>

        <div class="test-section">
            <h3>ğŸ“‹ ç¯å¢ƒå˜é‡åˆ—è¡¨</h3>
            <div id="env-list"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ”§ é…ç½®æµ‹è¯•</h3>
            <div id="config-test"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ’¡ ä½¿ç”¨è¯´æ˜</h3>
            <ul>
                <li><strong>AI_BASE_URL</strong>: è¿è¡Œæ—¶è®¾ç½® AI æœåŠ¡åŸºç¡€ URL</li>
                <li><strong>AI_API_KEY</strong>: è¿è¡Œæ—¶è®¾ç½® API å¯†é’¥</li>
                <li><strong>VITE_CLI_AI_SERVICE_BASE_URL</strong>: æ„å»ºæ—¶è®¾ç½® AI æœåŠ¡ URL</li>
                <li><strong>VITE_CLI_AI_API_KEY</strong>: æ„å»ºæ—¶è®¾ç½® API å¯†é’¥</li>
            </ul>

            <h4>æµ‹è¯•å‘½ä»¤ï¼š</h4>
            <pre><code># ä½¿ç”¨ç¯å¢ƒå˜é‡å¯åŠ¨
AI_BASE_URL=http://test:9068/v1 AI_API_KEY=test123 npm run dev

# æˆ–åˆ›å»º .env æ–‡ä»¶
echo "AI_BASE_URL=http://test:9068/v1" > .env
npm run dev</code></pre>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ£€æŸ¥ç¯å¢ƒå˜é‡ï¼ˆåœ¨å®é™… Vite åº”ç”¨ä¸­ä¼šæœ‰è¿™äº›å€¼ï¼‰
        const envVars = {
            'AI_BASE_URL': 'AI_BASE_URL ä»…åœ¨è¿è¡Œæ—¶è®¾ç½®ï¼Œæ— æ³•åœ¨æ­¤é™æ€é¡µé¢ä¸­æ£€æŸ¥',
            'AI_API_KEY': 'AI_API_KEY ä»…åœ¨è¿è¡Œæ—¶è®¾ç½®ï¼Œæ— æ³•åœ¨æ­¤é™æ€é¡µé¢ä¸­æ£€æŸ¥',
            'VITE_CLI_AI_SERVICE_BASE_URL': 'éœ€è¦åœ¨ Vite åº”ç”¨ä¸­æ£€æŸ¥',
            'VITE_CLI_AI_API_KEY': 'éœ€è¦åœ¨ Vite åº”ç”¨ä¸­æ£€æŸ¥',
            'VITE_DEFAULT_AI_SERVICE_BASE_URL': 'éœ€è¦åœ¨ Vite åº”ç”¨ä¸­æ£€æŸ¥'
        };

        const envList = document.getElementById('env-list');
        const configTest = document.getElementById('config-test');

        // æ˜¾ç¤ºç¯å¢ƒå˜é‡
        Object.entries(envVars).forEach(([name, value]) => {
            const item = document.createElement('div');
            item.className = 'env-item';
            item.innerHTML = `
                <div class="env-name">${name}</div>
                <div class="env-value">${value}</div>
            `;
            envList.appendChild(item);
        });

        // é…ç½®æµ‹è¯•ç»“æœ
        configTest.innerHTML = `
            <p><span class="success">âœ…</span> ç¯å¢ƒå˜é‡é…ç½®ç³»ç»Ÿå·²å°±ç»ª</p>
            <p><span class="warning">âš ï¸</span> è¯·åœ¨ Oji åº”ç”¨ä¸­æ£€æŸ¥å®é™…çš„ç¯å¢ƒå˜é‡å€¼</p>
            <p><span class="success">âœ…</span> æ”¯æŒè¿è¡Œæ—¶å’Œæ„å»ºæ—¶é…ç½®</p>
            <p><span class="success">âœ…</span> ä¼˜å…ˆçº§ï¼šè¿è¡Œæ—¶ > æ„å»ºæ—¶ > é»˜è®¤å€¼</p>
        `;

        // æ˜¾ç¤ºå½“å‰æµ‹è¯•çŠ¶æ€
        const testStatus = document.createElement('div');
        testStatus.style.cssText = 'margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 5px;';
        testStatus.innerHTML = `
            <h4>ğŸš€ æµ‹è¯•çŠ¶æ€</h4>
            <p>è¦æŸ¥çœ‹å®é™…çš„ç¯å¢ƒå˜é‡å€¼ï¼Œè¯·ï¼š</p>
            <ol>
                <li>åœ¨ Oji åº”ç”¨ä¸­æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                <li>æŸ¥çœ‹ Console æ ‡ç­¾é¡µä¸­çš„è°ƒè¯•è¾“å‡º</li>
                <li>æˆ–è€…åœ¨ Oji åº”ç”¨çš„ã€Server Settingsã€‘é¡µé¢æŸ¥çœ‹é»˜è®¤å€¼</li>
            </ol>
        `;
        document.querySelector('.container').appendChild(testStatus);
    </script>
</body>
</html>
